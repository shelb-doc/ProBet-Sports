# Project Structure

This document explains the complete folder structure of the automation test form project.

## Directory Tree

```
automation-test-form/
â”‚
â”œâ”€â”€ ğŸ“„ index.html              # Main HTML file (entry point for frontend)
â”œâ”€â”€ ğŸ“„ styles.css              # Main CSS file with CSS variables
â”œâ”€â”€ ğŸ“„ server.js               # Express.js API server (refactored)
â”œâ”€â”€ ğŸ“„ package.json            # Node.js dependencies and scripts
â”œâ”€â”€ ğŸ“„ tsconfig.json           # TypeScript compiler configuration
â”œâ”€â”€ ğŸ“„ .gitignore              # Git ignore rules
â”œâ”€â”€ ğŸ“„ LICENSE                 # ISC License
â”œâ”€â”€ ğŸ“„ README.md               # Main project documentation
â”‚
â”œâ”€â”€ ğŸ“ src/                    # TypeScript source files
â”‚   â”œâ”€â”€ form.ts                # Main form handler (orchestrator)
â”‚   â”œâ”€â”€ validators.ts          # FormValidator class
â”‚   â”œâ”€â”€ api-service.ts         # BettingAPIService class
â”‚   â””â”€â”€ payout-calculator.ts   # PayoutCalculator utility class
â”‚
â”œâ”€â”€ ğŸ“ dist/                   # Compiled JavaScript (generated by tsc)
â”‚   â”œâ”€â”€ form.js                # âš ï¸ Generated - do not edit
â”‚   â”œâ”€â”€ form.d.ts              # TypeScript declarations
â”‚   â”œâ”€â”€ validators.js          # âš ï¸ Generated - do not edit
â”‚   â”œâ”€â”€ api-service.js         # âš ï¸ Generated - do not edit
â”‚   â””â”€â”€ payout-calculator.js   # âš ï¸ Generated - do not edit
â”‚
â”œâ”€â”€ ğŸ“ data/                   # Server data files
â”‚   â””â”€â”€ betting-data.js        # Sports, leagues, and matchups data
â”‚
â”œâ”€â”€ ğŸ“ routes/                 # Express route handlers
â”‚   â””â”€â”€ betting-routes.js      # API routes with validation middleware
â”‚
â”œâ”€â”€ ğŸ“ middleware/             # Express middleware
â”‚   â””â”€â”€ error-handler.js       # Error handling and 404 middleware
â”‚
â”œâ”€â”€ ğŸ“ docs/                   # Project documentation
â”‚   â”œâ”€â”€ REFACTORING.md         # Comprehensive refactoring guide
â”‚   â”œâ”€â”€ BUILD.md               # Build and run instructions
â”‚   â”œâ”€â”€ CHANGES_SUMMARY.md     # Summary of all changes
â”‚   â”œâ”€â”€ ARCHITECTURE.md        # Architecture diagrams and explanations
â”‚   â”œâ”€â”€ GITHUB_SETUP.md        # GitHub upload instructions
â”‚   â”œâ”€â”€ PRE_GITHUB_CHECKLIST.md # Pre-upload checklist
â”‚   â””â”€â”€ API_SETUP.md           # API setup documentation
â”‚
â””â”€â”€ ğŸ“ backups/                # Backup files (excluded from git)
    â”œâ”€â”€ form-old.ts.bak        # Original form.ts before refactoring
    â”œâ”€â”€ server-old.js.bak      # Original server.js before refactoring
    â””â”€â”€ README-original.md     # Original README before updates
```

---

## File Descriptions

### Root Level Files

#### `index.html`
- **Purpose**: Main HTML file containing the betting form
- **Features**: Form structure, modals, data-testid attributes
- **Dependencies**: styles.css, dist/form.js
- **Edit?**: Yes - to modify HTML structure

#### `styles.css`
- **Purpose**: All styling with CSS custom properties
- **Features**: CSS variables, responsive design, animations
- **Dependencies**: None
- **Edit?**: Yes - to modify styles

#### `server.js`
- **Purpose**: Express API server (refactored)
- **Features**: Route mounting, middleware, error handling
- **Dependencies**: routes/, middleware/, express, cors
- **Edit?**: Yes - to modify server configuration

#### `package.json`
- **Purpose**: Node.js project configuration
- **Contains**: Dependencies, scripts, metadata
- **Scripts**:
  - `npm run build` - Compile TypeScript
  - `npm run watch` - Watch mode
  - `npm run server` - Start API server
  - `npm run serve` - Serve frontend
  - `npm run dev` - Run both servers
- **Edit?**: Yes - to add dependencies or scripts

#### `tsconfig.json`
- **Purpose**: TypeScript compiler configuration
- **Settings**: ES2020 target, strict mode, source maps
- **Edit?**: Rarely - only to change compiler options

#### `.gitignore`
- **Purpose**: Specifies files to exclude from git
- **Excludes**: node_modules/, dist/, *.bak, .env
- **Edit?**: Yes - to add more exclusions

#### `LICENSE`
- **Purpose**: ISC license for the project
- **Edit?**: No - unless changing license

#### `README.md`
- **Purpose**: Main project documentation
- **Contents**: Overview, setup, features, testing
- **Edit?**: Yes - to update documentation

---

### Source Files (`src/`)

All TypeScript source files that get compiled to JavaScript.

#### `src/form.ts`
- **Purpose**: Main form orchestrator
- **Responsibilities**:
  - Form submission handling
  - Event listeners setup
  - Coordinating validators, API, and calculator
- **Classes**: BettingFormHandler, ModalHandler, DisclaimerHandler
- **Dependencies**: validators.ts, api-service.ts, payout-calculator.ts
- **Compiled to**: dist/form.js
- **Edit?**: Yes - main application logic

#### `src/validators.ts`
- **Purpose**: All form validation logic
- **Class**: FormValidator
- **Methods**:
  - validateRequired()
  - validateEmail()
  - validatePassword()
  - validateAge()
  - validateBetAmount()
- **Dependencies**: None
- **Compiled to**: dist/validators.js
- **Edit?**: Yes - to add/modify validation rules

#### `src/api-service.ts`
- **Purpose**: API communication layer
- **Class**: BettingAPIService
- **Methods**:
  - fetchLeagues()
  - fetchMatchups()
  - populateLeagues()
  - populateMatchups()
- **Dependencies**: None (uses fetch API)
- **Compiled to**: dist/api-service.js
- **Edit?**: Yes - to modify API calls

#### `src/payout-calculator.ts`
- **Purpose**: Payout calculation utilities
- **Class**: PayoutCalculator (static methods)
- **Methods**:
  - calculatePayout()
  - formatCurrency()
- **Dependencies**: None
- **Compiled to**: dist/payout-calculator.js
- **Edit?**: Yes - to modify calculation logic

---

### Compiled JavaScript (`dist/`)

âš ï¸ **DO NOT EDIT FILES IN THIS FOLDER** - They are automatically generated.

This folder contains JavaScript compiled from TypeScript source files. It's created when you run `npm run build`.

**Important**:
- Excluded from git (in .gitignore)
- Regenerated on each build
- Edit the TypeScript source in `src/` instead

---

### Server Files

#### `data/betting-data.js`
- **Purpose**: All sports betting data
- **Contains**: Sports, leagues, matchups, odds
- **Format**: JavaScript object (module.exports)
- **Used by**: routes/betting-routes.js
- **Edit?**: Yes - to add sports/leagues/matchups

#### `routes/betting-routes.js`
- **Purpose**: Express router with API endpoints
- **Endpoints**:
  - GET /api/sports
  - GET /api/leagues/:sport
  - GET /api/matchups/:sport/:league
  - GET /api/health
- **Features**: Validation middleware
- **Dependencies**: data/betting-data.js
- **Edit?**: Yes - to add/modify routes

#### `middleware/error-handler.js`
- **Purpose**: Centralized error handling
- **Exports**:
  - errorHandler() - Error middleware
  - notFoundHandler() - 404 middleware
- **Features**: Development/production error formatting
- **Edit?**: Yes - to customize error handling

---

### Documentation (`docs/`)

All project documentation files.

#### `docs/REFACTORING.md`
- **Purpose**: Comprehensive refactoring documentation
- **Contents**: Before/after comparisons, benefits, rationale
- **Audience**: Developers understanding the refactoring

#### `docs/BUILD.md`
- **Purpose**: Build and run instructions
- **Contents**: Setup steps, troubleshooting, scripts
- **Audience**: New developers setting up the project

#### `docs/CHANGES_SUMMARY.md`
- **Purpose**: Quick summary of all refactoring changes
- **Contents**: Files created, modified, metrics
- **Audience**: Quick reference for what changed

#### `docs/ARCHITECTURE.md`
- **Purpose**: Architecture diagrams and explanations
- **Contents**: Visual diagrams, data flow, dependencies
- **Audience**: Developers understanding the system design

#### `docs/GITHUB_SETUP.md`
- **Purpose**: GitHub upload instructions
- **Contents**: Step-by-step GitHub setup, deployment options
- **Audience**: Developers uploading to GitHub

#### `docs/PRE_GITHUB_CHECKLIST.md`
- **Purpose**: Checklist before GitHub upload
- **Contents**: Verification steps, required actions
- **Audience**: Developers preparing to upload

#### `docs/API_SETUP.md`
- **Purpose**: API setup and documentation
- **Contents**: API endpoints, usage examples
- **Audience**: Developers working with the API

---

### Backups (`backups/`)

Backup files excluded from git.

#### `backups/form-old.ts.bak`
- **Purpose**: Original form.ts before refactoring
- **Use**: Reference for old implementation
- **In git?**: No (excluded by .gitignore)

#### `backups/server-old.js.bak`
- **Purpose**: Original server.js before refactoring
- **Use**: Reference for old implementation
- **In git?**: No (excluded by .gitignore)

#### `backups/README-original.md`
- **Purpose**: Original README before updates
- **Use**: Reference for old documentation
- **In git?**: No (excluded by .gitignore)

---

## File Relationships

### Frontend Flow
```
index.html
    â†“ includes
styles.css
    â†“ includes
dist/form.js
    â†“ uses
dist/validators.js
dist/api-service.js
dist/payout-calculator.js
```

### Backend Flow
```
server.js
    â†“ mounts
routes/betting-routes.js
    â†“ uses
data/betting-data.js
    â†“ uses
middleware/error-handler.js
```

### Build Flow
```
src/*.ts
    â†“ compiled by tsc
dist/*.js
    â†“ included in
index.html
```

---

## Git Tracking

### Tracked (uploaded to GitHub)
- âœ… All source files (src/)
- âœ… Server files (server.js, routes/, data/, middleware/)
- âœ… HTML and CSS
- âœ… Documentation (docs/)
- âœ… Configuration (package.json, tsconfig.json)
- âœ… .gitignore, LICENSE, README.md

### Not Tracked (excluded by .gitignore)
- âŒ node_modules/ - npm packages (too large)
- âŒ dist/ - generated code (rebuild from source)
- âŒ backups/ - backup files
- âŒ *.bak - backup files
- âŒ .env - environment variables

---

## Folder Purposes

| Folder | Purpose | Edit? | In Git? |
|--------|---------|-------|---------|
| `src/` | TypeScript source code | âœ… Yes | âœ… Yes |
| `dist/` | Compiled JavaScript | âŒ No | âŒ No |
| `data/` | Server data | âœ… Yes | âœ… Yes |
| `routes/` | API routes | âœ… Yes | âœ… Yes |
| `middleware/` | Express middleware | âœ… Yes | âœ… Yes |
| `docs/` | Documentation | âœ… Yes | âœ… Yes |
| `backups/` | Backup files | âŒ No | âŒ No |
| `node_modules/` | npm packages | âŒ No | âŒ No |

---

## Important Notes

1. **Always edit TypeScript source** (`src/`), never compiled JavaScript (`dist/`)
2. **Run `npm run build`** after editing TypeScript files
3. **Backup files** are kept locally but not uploaded to GitHub
4. **Documentation** is organized in the `docs/` folder
5. **Server code** is split across multiple files for maintainability

---

## Quick Reference

**To add a new validation rule**: Edit `src/validators.ts`

**To add a new API endpoint**: Edit `routes/betting-routes.js`

**To add new sports data**: Edit `data/betting-data.js`

**To modify form behavior**: Edit `src/form.ts`

**To change styles**: Edit `styles.css`

**To update documentation**: Edit files in `docs/`

---

## Next Steps

- See [docs/BUILD.md](docs/BUILD.md) for build instructions
- See [docs/ARCHITECTURE.md](docs/ARCHITECTURE.md) for architecture details
- See [docs/GITHUB_SETUP.md](docs/GITHUB_SETUP.md) for GitHub upload
